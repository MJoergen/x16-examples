10 REM THIS LITTLE PROGRAMS TESTS THE COLOUR PALETTE.
20 REM IT USES 160x120x8BPP MODE.

100 REM DISABLE LAYER 1
110 PRINT CHR$(147)
120 VPOKE $F, $3000, 0

200 REM SET LAYER 0 TO MODE 7 (BITMAP MODE 8 BPP)
210 VPOKE $F, $2000, $E1 
220 REM SET TILE_BASE TO $00000
230 VPOKE $F, $2004, 0
240 VPOKE $F, $2005, 0
250 REM SET TILEW TO 0 (320 PIXELS)
260 VPOKE $F, $2001, $10

300 REM SET SIZE OF SCREEN TO 160 x 120
310 VPOKE $F, $1, 32
320 VPOKE $F, $2, 32

400 REM RESET PALETTE
410 REM THE COLOUR INDEX IS INTERPRETED AS RRRGGGBB.
420 REM EXAMPLES ARE:
430 REM $E0 : RED
440 REM $1C : GREEN
450 REM $03 : BLUE
460 REM $FC : YELLOW
470 REM $E3 : MAGENTA
480 REM $1F : CYAN
490 REM AND OF COURSE $00 FOR BLACK AND $FF FOR WHITE.

500 FOR I=0 TO 255
510 R=INT(I/32)
520 G=INT((I-R*32)/4)
530 B=I-R*32-G*4
540 R=(R*15/7)
550 G=(G*15/7)
560 B=(B*15/3)
570 VPOKE $F, $1000+2*I, G*16+B
580 VPOKE $F, $1001+2*I, R
590 NEXT I

600 REM DRAW WHITE BOX AT EDGE OF SCREEM
610 C=$FF
620 FOR X=0 TO 159
630 Y=0
640 GOSUB 9000
650 Y=119
660 GOSUB 9000
670 NEXT X
680 FOR Y=0 TO 119
690 X=0
700 GOSUB 9000
710 X=159
720 GOSUB 9000
730 NEXT Y

1000 REM DRAW RED LINE
1010 C=$E0 
1020 Y=10
1030 FOR X=1 TO 158
1040 GOSUB 9000
1050 NEXT X

1100 REM DRAW GREEN LINE
1110 C=$1C
1120 Y=20
1130 FOR X=1 TO 158
1140 GOSUB 9000
1150 NEXT X

1200 REM DRAW GREEN LINE
1210 C=$03
1220 Y=30
1230 FOR X=1 TO 158
1240 GOSUB 9000
1250 NEXT X

1300 REM DRAW GREEN LINE
1310 C=$FC
1320 Y=40
1330 FOR X=1 TO 158
1340 GOSUB 9000
1350 NEXT X

1400 REM DRAW GREEN LINE
1410 C=$E3
1420 Y=50
1430 FOR X=1 TO 158
1440 GOSUB 9000
1450 NEXT X

1500 REM DRAW GREEN LINE
1510 C=$1F
1520 Y=60
1530 FOR X=1 TO 158
1540 GOSUB 9000
1550 NEXT X

7999 GOTO 7999

8000 RESET VERA
8010 VPOKE $F, $3000, 1
8020 VPOKE $F, $2000, 0
8030 VPOKE $F, $1, 128
8040 VPOKE $F, $2, 128

9000 REM SET PIXEL (X,Y) TO COLOUR C
9010 A=Y*640+X
9020 B=INT(A/65536)
9030 O=A-B*65536
9040 VPOKE B, O, C
9050 RETURN

