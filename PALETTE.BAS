10 REM THIS LITTLE PROGRAMS TESTS THE COLOUR PALETTE.
20 REM IT USES 160x120x8BPP MODE.

200 REM SET LAYER 1 TO MODE 7 (BITMAP MODE 8 BPP)
210 VPOKE $F, $3000, $E1 
220 REM SET TILE_BASE TO $00000
230 VPOKE $F, $3004, 0
240 VPOKE $F, $3005, 0
250 REM SET TILEW TO 0 (320 PIXELS)
260 VPOKE $F, $3001, $10

300 REM SET SIZE OF SCREEN TO 160 x 120
310 VPOKE $F, $1, 32
320 VPOKE $F, $2, 32

400 REM RESET PALETTE
410 REM THE COLOUR INDEX DECODES TO:
420 REM 6 VALUES FOR RED
430 REM 7 VALUES FOR GREEN
440 REM 6 VALUES FOR BLUE

450 REM EXAMPLES ARE:
460 REM 5*42 = $D2 : RED
470 REM 6*6  = $24 : GREEN
480 REM 5    = $05 : BLUE
490 REM $F6  : YELLOW
500 REM $D7  : MAGENTA
510 REM $29  : CYAN
520 REM AND OF COURSE $00 FOR BLACK AND $FB FOR WHITE.

700 FOR I=0 TO 255
710 R=INT(I/42)
720 G=INT((I-R*42)/6)
730 B=I-R*42-G*6
740 R=(R*15/5)
750 G=(G*15/6)
760 B=(B*15/5)
770 VPOKE $F, $1000+2*I, G*16+B
780 VPOKE $F, $1001+2*I, R
790 NEXT I

800 REM DRAW WHITE BOX AT EDGE OF SCREEM
810 C=$FB
820 FOR X=0 TO 159
830 Y=0
840 GOSUB 9000
850 Y=119
860 GOSUB 9000
870 NEXT X
880 FOR Y=0 TO 119
890 X=0
900 GOSUB 9000
910 X=159
920 GOSUB 9000
930 NEXT Y

1000 REM DRAW RED LINE
1010 C=$D2
1020 Y=10
1030 FOR X=1 TO 158
1040 GOSUB 9000
1050 NEXT X

1100 REM DRAW GREEN LINE
1110 C=$24
1120 Y=20
1130 FOR X=1 TO 158
1140 GOSUB 9000
1150 NEXT X

1200 REM DRAW BLUE LINE
1210 C=$05
1220 Y=30
1230 FOR X=1 TO 158
1240 GOSUB 9000
1250 NEXT X

1300 REM DRAW YELLOW LINE
1310 C=$F6
1320 Y=40
1330 FOR X=1 TO 158
1340 GOSUB 9000
1350 NEXT X

1400 REM DRAW MAGENTA LINE
1410 C=$D7
1420 Y=50
1430 FOR X=1 TO 158
1440 GOSUB 9000
1450 NEXT X

1500 REM DRAW CYAN LINE
1510 C=$29
1520 Y=60
1530 FOR X=1 TO 158
1540 GOSUB 9000
1550 NEXT X

7999 GOTO 7999

8000 RESET VERA
8010 VPOKE $F, $3000, 1
8020 VPOKE $F, $2000, 0
8030 VPOKE $F, $1, 128
8040 VPOKE $F, $2, 128

9000 REM SET PIXEL (X,Y) TO COLOUR C
9010 A=Y*640+X
9020 B=INT(A/65536)
9030 O=A-B*65536
9040 VPOKE B, O, C
9050 RETURN

